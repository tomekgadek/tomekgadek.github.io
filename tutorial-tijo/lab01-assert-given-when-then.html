<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Tomasz Gądek">
    <meta name="description" content="Laboratorium 01: Asercja, GivenWhenThen">

    <link rel="icon" type="image/png" href="../img/unittest-logo.png">

    <title>UnitTest | TiJO Lab01</title>

    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/side-menu.css">
    <link rel="stylesheet" href="../css/general.css">
    <link rel="stylesheet" href="../css/content.css">
    <link rel="stylesheet" href="../css/footer.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
</head>
<body>
    <header>
        <div class="header-container">
            <a href="/" class="logo"><img src="../img/unittest-logo.png" alt="UnitTest Tomasz Gądek" /></a>
            <button class="menu-button" onclick="toggleMenu()">☰</button>
        </div>
        <div class="side-menu" id="side-menu">
            <nav class="menu">
                <a href="lab01-assert-given-when-then.html">Lab01: GivenWhenThen</a>
                <a href="mailto:t_gadek@atar.edu.pl">Kontakt</a>
            </nav>
        </div>
    </header>

    <section class="title">
        <h1>Testowanie i Jakość Oprogramowania</h1>
        <p><strong>Laboratorium 01</strong>: Asercja, GivenWhenThen</p>
    </section>

    <main class="content">
        <div class="content-details">

        <h1>Asercja</h1>
        <p>
            Forma zdaniowa w danym języku, która zwraca prawdę lub fałsz). Asercja wskazuje, że 
            programista zakłada, że ów predykat jest w danym miejscu prawdziwy. W przypadku gdy 
            predykat jest fałszywy (czyli niespełnione są warunki postawione przez programistę) 
            asercja powoduje przerwanie wykonania programu. Asercja ma szczególne zastosowanie 
            w trakcie testowanie tworzonego oprogramowania.
        </p>
        <p>
            Struktura asercji:
        </p>
<pre class="code"><code id="code" class="language-java">assert(warunek): "opcjonalny komunikat";</code></pre>

        <p>Zastosowanie asercji w praktyce:</p>

<pre class="code"><code id="code" class="language-java">class UnitTests {
    static int add(int first, int second) {
        return first + second;
    }
 
    public static void main(String[] args) {
        assert(add(1, 2) == 3): "add(1, 2) should return 3?";
    }
 }</code></pre>

        <p>
            Aby w pełni obsługiwać asercję należy ją odpowiednio skonfigurować w IDE. Postaraj się wykonać 
            potrzebne kroki konfiguracyjne zaprezentowane na udostępnionym <a href="./static/assert_config.mov">filmiku</a>.
        </p>

        <h2>Zadanie</h2>

        <p>
            Zaimplementuj funkcję <strong>Integer max(Integer[] digits)</strong>, która wyszuka największy 
            element z tablicy liczb całkowitych. Zaproponuj dobre testy / asercje:
        </p>

        <ul>
            <li>Obsługa null (gdy na wejściu pojawi się null to metoda zwraca null),</li>
            <li>Obsługa pustej tablicy (gdy na wejściu pojawi się pusta tablica metoda zwraca null),</li>
            <li>Obsługa tablicy jednoelementowej (metoda zwraca największy element),</li>
            <li>Obsługa tablicy wieloelementowej (metoda zwraca największy element).</li>
        </ul>

        <h1>Given-When-Then</h1>

        <p>
            <strong>Given-When-Then</strong> to technika opisu testów, która pomaga w tworzeniu klarownych, czytelnych 
            i zrozumiałych przypadków testowych. Jest to często stosowany format, który pomaga w zrozumieniu, co jest 
            testowane, jakie są warunki początkowe (Given), jakie działania są wykonywane (When) i jakie są 
            oczekiwane rezultaty (Then).
        </p>

        <p>Zastosowanie Given-When-Then w praktyce:</p>

<pre class="code"><code id="code" class="language-java">class MathOperation {
    static int add(int first, int second) {
        return first + second;
    }
 }
 
 class MathOperationTests {
    void testAddition() {
        // Given
        int firstNumber = 1;
        int secondNumber = 2;
 
        // When
        int result = MathOperation.add(firstNumber, secondNumber);
 
        // Then
        assert result == 3 : "add(1, 2) should return 3?";
    }
 }
 
 class UnitTests {
 
    public static void main(String[] args) {
        new MathOperationTests().testAddition();
    }
 }</code></pre>

    <h2>Zadanie</h2>
    
    <p>
        Podziel swój kod na kod produkcyjny i testowy (klasa produkcyjna i testowa). Asercje powinny 
        znaleźć się w oddzielnych metodach oraz powinny być zapisane zgodnie z 
        konwencją <strong>Given-When-Then</strong>.
    </p>
    <p>
        Zaimplementuj funkcję <strong>Boolean isPerfect(Integer digit)</strong>, która zweryfikuje, czy 
        podana liczba to <a href="https://pl.wikipedia.org/wiki/Liczby_doskonałe">liczba doskonała</a>. Zaproponuj dobre testy. Zastosuj poznane 
        zagadnienia podczas laboratorium.
    </p>

    <h1>Czy wiesz, że...</h1>

    <p>
        Zasada KISS (<em>ang. Keep It Simple, Stupid</em>) to fundamentalna zasada projektowania, która zachęca do 
        tworzenia prostych, klarownych i zrozumiałych rozwiązań.
    </p>

    <p>Skomplikowany kod:</p>

<pre class="code"><code id="code" class="language-java">public String getUserStatus(User user) {
    if (user != null) {
        if (user.isActive()) {
            if (user.getAge() >= 18) {
                return "ACTIVE_ADULT";
            } else {
                return "ACTIVE_TEEN";
            }
        } else {
            return "NOT_ACTIVE";
        }
    } else {
        return "NOT_EXITS";
    }
 }</code></pre>

    <p>Prosty kod po zastosowaniu reguły KISS:</p>

<pre class="code"><code id="code" class="language-java">public String getUserStatus(User user) {
    if (user == null) {
        return "NOT_EXISTS";
    }
 
    if (!user.isActive()) {
        return "NOT_ACTIVE";
    }
 
    return (user.getAge() >= 18) ? "ACTIVE_ADULT" : "ACTIVE_TEEN";
}</code></pre>

    </div>
    </main>

    <footer>
        &copy; <span id="current-year">0000</span> UnitTest Tomasz Gądek. Wszelkie prawa zastrzeżone.
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="../js/current-year-initializer.js" type="text/javascript"></script>
    <script src="../js/menu.js" type="text/javascript"></script>
    <script src="../js/encode-source-code.js" type="text/javascript"></script>
</body>
</html>
